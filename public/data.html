<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InternHub - Data Management Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f0f4ff 0%, #e8f4f8 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(30, 58, 138, 0.2);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            letter-spacing: -0.5px;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .tab-button {
            padding: 0.875rem 1.75rem;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            color: #1e3a8a;
        }

        .tab-button:hover {
            border-color: #3b82f6;
            background: #f0f4ff;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%);
            color: white;
            border-color: #1d4ed8;
            box-shadow: 0 4px 14px rgba(30, 64, 175, 0.35);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #e5e7eb;
        }

        .card h3 {
            color: #1e3a8a;
            margin-bottom: 1rem;
            font-size: 1.25rem;
        }

        .card-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #f9fafb;
            border-radius: 8px;
            margin-bottom: 0.75rem;
        }

        .card-stat label {
            font-weight: 600;
            color: #4b5563;
        }

        .card-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #3b82f6;
        }

        .button-group {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%);
            color: white;
            box-shadow: 0 4px 14px rgba(30, 64, 175, 0.35);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 64, 175, 0.45);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            box-shadow: 0 4px 14px rgba(239, 68, 68, 0.35);
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.45);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            box-shadow: 0 4px 14px rgba(16, 185, 129, 0.35);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.45);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            box-shadow: 0 4px 14px rgba(245, 158, 11, 0.35);
        }

        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.45);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            border: 1px solid #e5e7eb;
            position: relative;
            height: 400px;
        }

        .chart-container h3 {
            color: #1e3a8a;
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
        }

        .chart-wrapper {
            position: relative;
            height: 350px;
            width: 100%;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        th {
            background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 700;
            letter-spacing: 0.02em;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        tbody tr:hover {
            background: #f9fafb;
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        .status-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-pending {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #92400e;
        }

        .status-selected {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
        }

        .status-rejected {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #991b1b;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 600px;
            animation: slideIn 0.3s ease;
        }

        .modal-header {
            margin-bottom: 1.5rem;
        }

        .modal-header h2 {
            color: #1e3a8a;
            font-size: 1.75rem;
        }

        .modal-body {
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #1e3a8a;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
        }

        .modal-footer {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .close-modal {
            color: #6b7280;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: #1e3a8a;
        }

        .alert {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: slideIn 0.3s ease;
        }

        .alert-success {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
            border: 1px solid #6ee7b7;
        }

        .alert-danger {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #991b1b;
            border: 1px solid #fca5a5;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid #3b82f6;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .stat-card h4 {
            color: #6b7280;
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .stat-card .value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1e3a8a;
        }

        .stat-card .change {
            font-size: 0.85rem;
            color: #6b7280;
            margin-top: 0.5rem;
        }

        .stat-card.success {
            border-left-color: #10b981;
        }

        .stat-card.warning {
            border-left-color: #f59e0b;
        }

        .stat-card.danger {
            border-left-color: #ef4444;
        }

        .divider {
            height: 1px;
            background: #e5e7eb;
            margin: 2rem 0;
        }

        .action-buttons {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-buttons .btn {
            font-size: 0.9rem;
            padding: 0.6rem 1.25rem;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.75rem;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-button {
                width: 100%;
                text-align: center;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            table {
                font-size: 0.9rem;
            }

            th, td {
                padding: 0.75rem;
            }

            .modal-content {
                width: 95%;
            }
        }

        .success-message {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border: 1px solid #6ee7b7;
            display: none;
        }

        .success-message.show {
            display: block;
            animation: slideIn 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>üìä InternHub Data Management Dashboard</h1>
            <p>Manage sample data, visualizations, and test all platform features</p>
        </header>

        <!-- Alerts -->
        <div id="successMessage" class="success-message"></div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('overview')">üìà Overview</button>
            <button class="tab-button" onclick="switchTab('students')">üë• Students</button>
            <button class="tab-button" onclick="switchTab('internships')">üíº Internships</button>
            <button class="tab-button" onclick="switchTab('applications')">üìù Applications</button>
            <button class="tab-button" onclick="switchTab('analytics')">üìä Analytics</button>
            <button class="tab-button" onclick="switchTab('tools')">üõ†Ô∏è Tools</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <h4>Total Students</h4>
                    <div class="value" id="totalStudents">0</div>
                    <div class="change">‚Üë Active accounts</div>
                </div>
                <div class="stat-card success">
                    <h4>Total Internships</h4>
                    <div class="value" id="totalInternships">0</div>
                    <div class="change">‚Üë Available positions</div>
                </div>
                <div class="stat-card warning">
                    <h4>Total Applications</h4>
                    <div class="value" id="totalApplications">0</div>
                    <div class="change">‚Üë Pending review</div>
                </div>
                <div class="stat-card danger">
                    <h4>Success Rate</h4>
                    <div class="value" id="successRate">0%</div>
                    <div class="change">‚Üë Selected candidates</div>
                </div>
            </div>

            <div class="divider"></div>

            <div class="grid">
                <div class="card">
                    <h3>üöÄ Quick Actions</h3>
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="loadSampleData()">Load Sample Data</button>
                        <button class="btn btn-success" onclick="showModal('addStudent')">Add Student</button>
                        <button class="btn btn-warning" onclick="showModal('addInternship')">Add Internship</button>
                    </div>
                    <div class="button-group" style="margin-top: 1rem;">
                        <button class="btn btn-danger" onclick="clearAllData()">Clear All Data</button>
                        <button class="btn btn-primary" onclick="exportData()">Export Data</button>
                        <button class="btn btn-success" onclick="refreshDashboard()">Refresh Dashboard</button>
                    </div>
                </div>
                <div class="card">
                    <h3>üìä Platform Status</h3>
                    <div class="card-stat">
                        <label>Frontend:</label>
                        <span style="color: #10b981; font-weight: 700;">‚úì Running</span>
                    </div>
                    <div class="card-stat">
                        <label>Backend:</label>
                        <span style="color: #10b981; font-weight: 700;">‚úì Running</span>
                    </div>
                    <div class="card-stat">
                        <label>Database:</label>
                        <span style="color: #10b981; font-weight: 700;">‚úì Connected</span>
                    </div>
                    <div class="card-stat">
                        <label>Version:</label>
                        <span style="color: #3b82f6; font-weight: 700;">v0.1</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Students Tab -->
        <div id="students" class="tab-content">
            <div class="card" style="margin-bottom: 2rem;">
                <h3>Student Management</h3>
                <button class="btn btn-primary" onclick="showModal('addStudent')">+ Add New Student</button>
                <button class="btn btn-success btn-sm" onclick="loadSampleStudents()" style="margin-left: 0.5rem;">Load Sample Students</button>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>College</th>
                        <th>Branch</th>
                        <th>Applications</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="studentsTable">
                </tbody>
            </table>
        </div>

        <!-- Internships Tab -->
        <div id="internships" class="tab-content">
            <div class="card" style="margin-bottom: 2rem;">
                <h3>Internship Management</h3>
                <button class="btn btn-primary" onclick="showModal('addInternship')">+ Add New Internship</button>
                <button class="btn btn-success btn-sm" onclick="loadSampleInternships()" style="margin-left: 0.5rem;">Load Sample Internships</button>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Company</th>
                        <th>Duration</th>
                        <th>Stipend</th>
                        <th>Applications</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="internshipsTable">
                </tbody>
            </table>
        </div>

        <!-- Applications Tab -->
        <div id="applications" class="tab-content">
            <div class="card" style="margin-bottom: 2rem;">
                <h3>Application Management</h3>
                <button class="btn btn-primary" onclick="showModal('addApplication')">+ Add New Application</button>
                <button class="btn btn-success btn-sm" onclick="loadSampleApplications()" style="margin-left: 0.5rem;">Load Sample Applications</button>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Student</th>
                        <th>Internship</th>
                        <th>Status</th>
                        <th>Applied On</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="applicationsTable">
                </tbody>
            </table>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <div class="divider" style="margin-top: 0;"></div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 2rem;">
                <div class="chart-container">
                    <h3>Applications by Status</h3>
                    <div class="chart-wrapper">
                        <canvas id="statusChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Top 5 Companies</h3>
                    <div class="chart-wrapper">
                        <canvas id="companiesChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Stipend Distribution</h3>
                    <div class="chart-wrapper">
                        <canvas id="stipendChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Applications Over Time</h3>
                    <div class="chart-wrapper">
                        <canvas id="timelineChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tools Tab -->
        <div id="tools" class="tab-content">
            <div class="grid">
                <div class="card">
                    <h3>üõ†Ô∏è Data Tools</h3>
                    <p style="color: #6b7280; margin-bottom: 1rem;">Manage your sample data and testing environment</p>
                    <div class="button-group" style="flex-direction: column;">
                        <button class="btn btn-primary" style="width: 100%;" onclick="loadAllSampleData()">Load Complete Sample Dataset</button>
                        <button class="btn btn-success" style="width: 100%; margin-top: 0.5rem;" onclick="generateRandomData()">Generate Random Data</button>
                        <button class="btn btn-warning" style="width: 100%; margin-top: 0.5rem;" onclick="exportData()">Export All Data (JSON)</button>
                        <button class="btn btn-danger" style="width: 100%; margin-top: 0.5rem;" onclick="clearAllData()">Clear All Data</button>
                    </div>
                </div>

                <div class="card">
                    <h3>üì± Device Testing</h3>
                    <p style="color: #6b7280; margin-bottom: 1rem;">Test the platform on different screen sizes</p>
                    <div class="button-group" style="flex-direction: column;">
                        <button class="btn btn-primary" style="width: 100%;" onclick="alert('Open DevTools: F12 ‚Üí Responsive Design Mode ‚Üí Ctrl+Shift+M')">Mobile View (320px)</button>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 0.5rem;" onclick="alert('Use DevTools responsive mode for 480px')">Tablet View (480px)</button>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 0.5rem;" onclick="alert('Use DevTools responsive mode for 768px')">Tablet View (768px)</button>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 0.5rem;" onclick="alert('Open in full screen for desktop view')">Desktop View (1024px+)</button>
                    </div>
                </div>

                <div class="card">
                    <h3>üîó Quick Links</h3>
                    <p style="color: #6b7280; margin-bottom: 1rem;">Navigate to different sections of InternHub</p>
                    <div class="button-group" style="flex-direction: column;">
                        <a href="/" class="btn btn-primary" style="width: 100%; text-decoration: none; text-align: center;">Go to Home</a>
                        <a href="/internships" class="btn btn-success" style="width: 100%; text-decoration: none; text-align: center; margin-top: 0.5rem;">Browse Internships</a>
                        <a href="/login" class="btn btn-warning" style="width: 100%; text-decoration: none; text-align: center; margin-top: 0.5rem;">Login</a>
                        <a href="/register" class="btn btn-primary" style="width: 100%; text-decoration: none; text-align: center; margin-top: 0.5rem;">Register</a>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Sample Credentials</h3>
                    <p style="color: #6b7280; margin-bottom: 1rem;">Use these accounts for testing</p>
                    <div style="background: #f9fafb; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="font-weight: 600; color: #1e3a8a; margin-bottom: 0.5rem;">Student Account:</p>
                        <p style="color: #6b7280; font-size: 0.9rem; margin: 0.25rem 0;">üìß demo@internhub.com</p>
                        <p style="color: #6b7280; font-size: 0.9rem; margin: 0.25rem 0;">üîê Demo@123</p>
                    </div>
                    <div style="background: #f9fafb; padding: 1rem; border-radius: 8px;">
                        <p style="font-weight: 600; color: #1e3a8a; margin-bottom: 0.5rem;">Admin Account:</p>
                        <p style="color: #6b7280; font-size: 0.9rem; margin: 0.25rem 0;">üìß admin@internhub.com</p>
                        <p style="color: #6b7280; font-size: 0.9rem; margin: 0.25rem 0;">üîê Admin@123</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('addStudent')">&times;</span>
            <div class="modal-header">
                <h2>Add New Student</h2>
            </div>
            <div class="modal-body">
                <form onsubmit="addStudent(event)">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" id="studentName" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="studentEmail" required>
                    </div>
                    <div class="form-group">
                        <label>College</label>
                        <input type="text" id="studentCollege" required>
                    </div>
                    <div class="form-group">
                        <label>Branch</label>
                        <input type="text" id="studentBranch" required>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn" onclick="closeModal('addStudent')" style="background: #e5e7eb; color: #1e3a8a;">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Student</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="addInternshipModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('addInternship')">&times;</span>
            <div class="modal-header">
                <h2>Add New Internship</h2>
            </div>
            <div class="modal-body">
                <form onsubmit="addInternship(event)">
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" id="internshipTitle" required>
                    </div>
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" id="internshipCompany" required>
                    </div>
                    <div class="form-group">
                        <label>Duration</label>
                        <input type="text" id="internshipDuration" placeholder="e.g., 3 Months" required>
                    </div>
                    <div class="form-group">
                        <label>Stipend</label>
                        <input type="text" id="internshipStipend" placeholder="e.g., ‚Çπ25,000/month" required>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn" onclick="closeModal('addInternship')" style="background: #e5e7eb; color: #1e3a8a;">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Internship</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="addApplicationModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('addApplication')">&times;</span>
            <div class="modal-header">
                <h2>Add New Application</h2>
            </div>
            <div class="modal-body">
                <form onsubmit="addApplication(event)">
                    <div class="form-group">
                        <label>Student ID</label>
                        <input type="text" id="applicationStudentId" placeholder="e.g., student-1" required>
                    </div>
                    <div class="form-group">
                        <label>Internship ID</label>
                        <input type="text" id="applicationInternshipId" placeholder="e.g., internship-1" required>
                    </div>
                    <div class="form-group">
                        <label>Status</label>
                        <select id="applicationStatus" required>
                            <option value="">Select Status</option>
                            <option value="pending">Pending</option>
                            <option value="selected">Selected</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn" onclick="closeModal('addApplication')" style="background: #e5e7eb; color: #1e3a8a;">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Application</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Sample Data
        const sampleStudents = [
            { id: 'student-1', name: 'Suhani Parashar', email: 'suhani@example.com', college: 'KL University', branch: 'CSE', applications: 5 },
            { id: 'student-2', name: 'Aditya Kumar', email: 'aditya@example.com', college: 'IIT Delhi', branch: 'ECE', applications: 3 },
            { id: 'student-3', name: 'Priya Singh', email: 'priya@example.com', college: 'NIT Bangalore', branch: 'CSE', applications: 4 },
            { id: 'student-4', name: 'Rohit Verma', email: 'rohit@example.com', college: 'IIT Bombay', branch: 'ME', applications: 2 },
            { id: 'student-5', name: 'Ananya Patel', email: 'ananya@example.com', college: 'MIT Pune', branch: 'IT', applications: 6 },
            { id: 'student-6', name: 'Vikram Desai', email: 'vikram@example.com', college: 'Manipal University', branch: 'CSE', applications: 4 },
            { id: 'student-7', name: 'Neha Sharma', email: 'neha@example.com', college: 'VIT Vellore', branch: 'Biotech', applications: 2 },
            { id: 'student-8', name: 'Arjun Nair', email: 'arjun@example.com', college: 'BITS Pilani', branch: 'ECE', applications: 5 },
        ];

        const sampleInternships = [
            { id: 'internship-1', title: 'Frontend Developer Intern', company: 'Google', duration: '3 Months', stipend: '‚Çπ25,000/month', applications: 287 },
            { id: 'internship-2', title: 'Data Science Intern', company: 'Microsoft', duration: '6 Months', stipend: '‚Çπ28,000/month', applications: 192 },
            { id: 'internship-3', title: 'Backend Engineer Intern', company: 'Amazon', duration: '4 Months', stipend: '‚Çπ26,000/month', applications: 215 },
            { id: 'internship-4', title: 'Mobile Developer Intern', company: 'Meta', duration: '5 Months', stipend: '‚Çπ24,000/month', applications: 188 },
            { id: 'internship-5', title: 'DevOps Engineer Intern', company: 'IBM', duration: '4 Months', stipend: '‚Çπ22,000/month', applications: 98 },
            { id: 'internship-6', title: 'AI/ML Research Intern', company: 'OpenAI', duration: '6 Months', stipend: '‚Çπ30,000/month', applications: 342 },
            { id: 'internship-7', title: 'Blockchain Developer', company: 'Coinbase', duration: '5 Months', stipend: '‚Çπ23,000/month', applications: 143 },
            { id: 'internship-8', title: 'UI/UX Designer', company: 'Figma', duration: '4 Months', stipend: '‚Çπ18,000/month', applications: 125 },
        ];

        const sampleApplications = [
            { studentId: 'student-1', internshipId: 'internship-1', status: 'selected', appliedOn: '2024-11-15' },
            { studentId: 'student-1', internshipId: 'internship-2', status: 'pending', appliedOn: '2024-11-20' },
            { studentId: 'student-2', internshipId: 'internship-3', status: 'rejected', appliedOn: '2024-11-10' },
            { studentId: 'student-3', internshipId: 'internship-4', status: 'pending', appliedOn: '2024-11-22' },
            { studentId: 'student-4', internshipId: 'internship-5', status: 'selected', appliedOn: '2024-11-18' },
            { studentId: 'student-5', internshipId: 'internship-6', status: 'pending', appliedOn: '2024-11-25' },
            { studentId: 'student-6', internshipId: 'internship-1', status: 'selected', appliedOn: '2024-11-16' },
            { studentId: 'student-7', internshipId: 'internship-3', status: 'pending', appliedOn: '2024-11-21' },
            { studentId: 'student-8', internshipId: 'internship-4', status: 'selected', appliedOn: '2024-11-17' },
            { studentId: 'student-1', internshipId: 'internship-5', status: 'rejected', appliedOn: '2024-11-12' },
        ];

        let students = JSON.parse(localStorage.getItem('dashboardStudents')) || [];
        let internships = JSON.parse(localStorage.getItem('dashboardInternships')) || [];
        let applications = JSON.parse(localStorage.getItem('dashboardApplications')) || [];

        // Chart instances
        let charts = {};

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            refreshDashboard();
            renderCharts();
        });

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');

            // Update buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Re-render charts when switching to analytics
            if (tabName === 'analytics') {
                setTimeout(renderCharts, 100);
            }
        }

        function showModal(modalName) {
            document.getElementById(modalName + 'Modal').classList.add('show');
        }

        function closeModal(modalName) {
            document.getElementById(modalName + 'Modal').classList.remove('show');
        }

        function loadSampleStudents() {
            students = JSON.parse(JSON.stringify(sampleStudents));
            localStorage.setItem('dashboardStudents', JSON.stringify(students));
            showSuccess('Sample students loaded successfully!');
            renderStudents();
            updateStats();
        }

        function loadSampleInternships() {
            internships = JSON.parse(JSON.stringify(sampleInternships));
            localStorage.setItem('dashboardInternships', JSON.stringify(internships));
            showSuccess('Sample internships loaded successfully!');
            renderInternships();
            updateStats();
        }

        function loadSampleApplications() {
            applications = JSON.parse(JSON.stringify(sampleApplications));
            localStorage.setItem('dashboardApplications', JSON.stringify(applications));
            showSuccess('Sample applications loaded successfully!');
            renderApplications();
            updateStats();
            renderCharts();
        }

        function loadAllSampleData() {
            loadSampleStudents();
            loadSampleInternships();
            loadSampleApplications();
            showSuccess('Complete sample dataset loaded!');
        }

        function loadSampleData() {
            loadAllSampleData();
        }

        function addStudent(e) {
            e.preventDefault();
            const student = {
                id: 'student-' + Date.now(),
                name: document.getElementById('studentName').value,
                email: document.getElementById('studentEmail').value,
                college: document.getElementById('studentCollege').value,
                branch: document.getElementById('studentBranch').value,
                applications: 0
            };
            students.push(student);
            localStorage.setItem('dashboardStudents', JSON.stringify(students));
            closeModal('addStudent');
            document.getElementById('addStudentModal').querySelector('form').reset();
            renderStudents();
            updateStats();
            showSuccess('Student added successfully!');
        }

        function addInternship(e) {
            e.preventDefault();
            const internship = {
                id: 'internship-' + Date.now(),
                title: document.getElementById('internshipTitle').value,
                company: document.getElementById('internshipCompany').value,
                duration: document.getElementById('internshipDuration').value,
                stipend: document.getElementById('internshipStipend').value,
                applications: 0
            };
            internships.push(internship);
            localStorage.setItem('dashboardInternships', JSON.stringify(internships));
            closeModal('addInternship');
            document.getElementById('addInternshipModal').querySelector('form').reset();
            renderInternships();
            updateStats();
            showSuccess('Internship added successfully!');
        }

        function addApplication(e) {
            e.preventDefault();
            const application = {
                studentId: document.getElementById('applicationStudentId').value,
                internshipId: document.getElementById('applicationInternshipId').value,
                status: document.getElementById('applicationStatus').value,
                appliedOn: new Date().toISOString().split('T')[0]
            };
            applications.push(application);
            localStorage.setItem('dashboardApplications', JSON.stringify(applications));
            closeModal('addApplication');
            document.getElementById('addApplicationModal').querySelector('form').reset();
            renderApplications();
            updateStats();
            renderCharts();
            showSuccess('Application added successfully!');
        }

        function deleteStudent(id) {
            if (confirm('Are you sure you want to delete this student?')) {
                students = students.filter(s => s.id !== id);
                localStorage.setItem('dashboardStudents', JSON.stringify(students));
                renderStudents();
                updateStats();
                showSuccess('Student deleted!');
            }
        }

        function deleteInternship(id) {
            if (confirm('Are you sure you want to delete this internship?')) {
                internships = internships.filter(i => i.id !== id);
                localStorage.setItem('dashboardInternships', JSON.stringify(internships));
                renderInternships();
                updateStats();
                showSuccess('Internship deleted!');
            }
        }

        function deleteApplication(index) {
            if (confirm('Are you sure you want to delete this application?')) {
                applications.splice(index, 1);
                localStorage.setItem('dashboardApplications', JSON.stringify(applications));
                renderApplications();
                updateStats();
                renderCharts();
                showSuccess('Application deleted!');
            }
        }

        function renderStudents() {
            const tbody = document.getElementById('studentsTable');
            tbody.innerHTML = students.map(student => `
                <tr>
                    <td>${student.id}</td>
                    <td>${student.name}</td>
                    <td>${student.email}</td>
                    <td>${student.college}</td>
                    <td>${student.branch}</td>
                    <td>${student.applications}</td>
                    <td>
                        <button class="btn btn-danger btn-sm" onclick="deleteStudent('${student.id}')">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderInternships() {
            const tbody = document.getElementById('internshipsTable');
            tbody.innerHTML = internships.map(internship => `
                <tr>
                    <td>${internship.id}</td>
                    <td>${internship.title}</td>
                    <td>${internship.company}</td>
                    <td>${internship.duration}</td>
                    <td>${internship.stipend}</td>
                    <td>${internship.applications}</td>
                    <td>
                        <button class="btn btn-danger btn-sm" onclick="deleteInternship('${internship.id}')">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderApplications() {
            const tbody = document.getElementById('applicationsTable');
            tbody.innerHTML = applications.map((app, index) => {
                const student = students.find(s => s.id === app.studentId);
                const internship = internships.find(i => i.id === app.internshipId);
                const statusClass = `status-${app.status}`;
                return `
                    <tr>
                        <td>${student ? student.name : 'Unknown'}</td>
                        <td>${internship ? internship.title : 'Unknown'}</td>
                        <td><span class="status-badge ${statusClass}">${app.status.charAt(0).toUpperCase() + app.status.slice(1)}</span></td>
                        <td>${app.appliedOn}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="deleteApplication(${index})">Delete</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function updateStats() {
            document.getElementById('totalStudents').textContent = students.length;
            document.getElementById('totalInternships').textContent = internships.length;
            document.getElementById('totalApplications').textContent = applications.length;
            
            const selected = applications.filter(a => a.status === 'selected').length;
            const rate = applications.length > 0 ? Math.round((selected / applications.length) * 100) : 0;
            document.getElementById('successRate').textContent = rate + '%';
        }

        function renderCharts() {
            // Status Chart
            const statusData = {
                pending: applications.filter(a => a.status === 'pending').length,
                selected: applications.filter(a => a.status === 'selected').length,
                rejected: applications.filter(a => a.status === 'rejected').length
            };

            if (charts.statusChart) charts.statusChart.destroy();
            const statusCtx = document.getElementById('statusChart');
            if (statusCtx) {
                charts.statusChart = new Chart(statusCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Pending', 'Selected', 'Rejected'],
                        datasets: [{
                            data: [statusData.pending, statusData.selected, statusData.rejected],
                            backgroundColor: ['#f59e0b', '#10b981', '#ef4444'],
                            borderColor: '#fff',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        }
                    }
                });
            }

            // Companies Chart
            const companyData = {};
            internships.forEach(int => {
                companyData[int.company] = (companyData[int.company] || 0) + 1;
            });
            const topCompanies = Object.entries(companyData).sort((a, b) => b[1] - a[1]).slice(0, 5);

            if (charts.companiesChart) charts.companiesChart.destroy();
            const companiesCtx = document.getElementById('companiesChart');
            if (companiesCtx) {
                charts.companiesChart = new Chart(companiesCtx, {
                    type: 'bar',
                    data: {
                        labels: topCompanies.map(c => c[0]),
                        datasets: [{
                            label: 'Internships',
                            data: topCompanies.map(c => c[1]),
                            backgroundColor: '#3b82f6',
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } }
                    }
                });
            }

            // Stipend Chart
            const stipendRanges = {
                '10-15k': 0, '15-20k': 0, '20-25k': 0, '25-30k': 0, '30k+': 0
            };
            internships.forEach(int => {
                const amount = parseInt(int.stipend);
                if (amount < 15000) stipendRanges['10-15k']++;
                else if (amount < 20000) stipendRanges['15-20k']++;
                else if (amount < 25000) stipendRanges['20-25k']++;
                else if (amount < 30000) stipendRanges['25-30k']++;
                else stipendRanges['30k+']++;
            });

            if (charts.stipendChart) charts.stipendChart.destroy();
            const stipendCtx = document.getElementById('stipendChart');
            if (stipendCtx) {
                charts.stipendChart = new Chart(stipendCtx, {
                    type: 'bar',
                    data: {
                        labels: Object.keys(stipendRanges),
                        datasets: [{
                            label: 'Count',
                            data: Object.values(stipendRanges),
                            backgroundColor: '#10b981',
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } }
                    }
                });
            }

            // Timeline Chart
            const dates = {};
            applications.forEach(app => {
                dates[app.appliedOn] = (dates[app.appliedOn] || 0) + 1;
            });
            const sortedDates = Object.entries(dates).sort((a, b) => new Date(a[0]) - new Date(b[0]));

            if (charts.timelineChart) charts.timelineChart.destroy();
            const timelineCtx = document.getElementById('timelineChart');
            if (timelineCtx) {
                charts.timelineChart = new Chart(timelineCtx, {
                    type: 'line',
                    data: {
                        labels: sortedDates.map(d => d[0]),
                        datasets: [{
                            label: 'Applications',
                            data: sortedDates.map(d => d[1]),
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 4,
                            pointBackgroundColor: '#3b82f6'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } }
                    }
                });
            }
        }

        function clearAllData() {
            if (confirm('Are you sure? This will delete ALL data!')) {
                students = [];
                internships = [];
                applications = [];
                localStorage.removeItem('dashboardStudents');
                localStorage.removeItem('dashboardInternships');
                localStorage.removeItem('dashboardApplications');
                renderStudents();
                renderInternships();
                renderApplications();
                updateStats();
                renderCharts();
                showSuccess('All data cleared!');
            }
        }

        function generateRandomData() {
            const randomStudents = Array.from({length: Math.floor(Math.random() * 5) + 3}, (_, i) => ({
                id: 'student-random-' + i,
                name: 'Student ' + i,
                email: 'student' + i + '@test.com',
                college: 'College ' + i,
                branch: ['CSE', 'ECE', 'ME', 'IT'][Math.floor(Math.random() * 4)],
                applications: Math.floor(Math.random() * 8)
            }));

            students.push(...randomStudents);
            localStorage.setItem('dashboardStudents', JSON.stringify(students));
            renderStudents();
            updateStats();
            showSuccess('Random students generated!');
        }

        function exportData() {
            const data = {
                students,
                internships,
                applications,
                exportedAt: new Date().toISOString()
            };
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `internhub-data-${Date.now()}.json`;
            link.click();
            showSuccess('Data exported successfully!');
        }

        function refreshDashboard() {
            renderStudents();
            renderInternships();
            renderApplications();
            updateStats();
            renderCharts();
            showSuccess('Dashboard refreshed!');
        }

        function showSuccess(message) {
            const msg = document.getElementById('successMessage');
            msg.textContent = '‚úÖ ' + message;
            msg.classList.add('show');
            setTimeout(() => msg.classList.remove('show'), 3000);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal.show');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.classList.remove('show');
                }
            });
        };

        // Initial render
        refreshDashboard();
    </script>
</body>
</html>
